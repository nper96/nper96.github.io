<html>
<head>
<title>Marker Detection</title>
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
<style>
html,body {
	margin: 0;
	padding: 0;
	width: 100%;
	text-align: center;
	overflow-x: hidden;
	background-color: #F5F1C4;
}

#textBox {
position: absolute;
top: 50px;
}

</style>
</head>
<body>

<div id="textBox">
<p id="screen">None</p>
<p>Alpha - rotational direction (0 to 360)</p>
<p id="alpha"></p>
<p>Beta - front to back motion (-180 to 180)</p>
<p id="beta"></p>
<p>Gamma - left to right motion (-90 to 90)</p>
<p id="gamma"></p>
</div>

<script>
var ws = new WebSocket("ws://43.246.234.194:81");
var dummyVar = 0;

var screenNo = 0;
			
// gyro

if(window.DeviceOrientationEvent){
	window.addEventListener("deviceorientation", orientation, false);
}else{
	console.log("DeviceOrientationEvent is not supported");
}
function orientation(event){
	document.getElementById("alpha").innerHTML = event.alpha;
	document.getElementById("beta").innerHTML = event.beta;
	document.getElementById("gamma").innerHTML = event.gamma;
	
	//determining the screen
	var rotationVal = event.alpha;
	var oldScreen = screenNo;
	if((rotationVal<=297)&&(rotationVal>=105)){
		screenNo = 3;
		document.getElementById("screen").innerHTML = "Right";
		//x = (((event.alpha - 191)/192)*216)+432
	}else if(((rotationVal<=360)&&(rotationVal>=310))){
		screenNo = 2;
		document.getElementById("screen").innerHTML = "Middle";
		//x = (((event.alpha - 310)/50)*216)+216
	}else if((rotationVal<=75)&&(rotationVal>=5)){
		screenNo = 1;
		document.getElementById("screen").innerHTML = "Left";
		//x = ((event.alpha - 5)/70)*216
	}else{
		screenNo = 0;
		document.getElementById("screen").innerHTML = "None";
		//x = 325
	}
	if (!(oldScreen == screenNo)){
		oldScreen = screenNo;
		ws.send(screenNo);
	}
	
	//console.log(x);
}
	

				
				
</script>

</body>
</html>